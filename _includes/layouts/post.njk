---
layout: layouts/base.njk
section: post
---

<article>
  <h1>{{ title }}</h1>
  <p>
    <small>
      <time datetime="{{ page.date | machineDate }}">{{ page.date | czDate }}</time>
    </small>
  </p>

  {{ layoutContent | safe }}

  {% if tags %}
    <p>
    {% for tag in tags %}
      {%- if tag != "post" -%}
        {% set tagUrl %}/tags/{{ tag }}/{% endset %}
        <a href="{{ tagUrl | url }}" rel="tag">{{ tag }}</a>
      {%- endif -%}
    {% endfor %}
    </p>
  {% endif %}
</article>

<nav class="post-nav">
  {% set posts = collections.postsAll %}
  {% set currentIndex = 0 %}
  {% for post in posts %}
    {% if post.url == page.url %}
      {% set currentIndex = loop.index0 %}
    {% endif %}
  {% endfor %}

  <p>
    {% if posts[currentIndex + 1] %}
      <a href="{{ posts[currentIndex + 1].url }}">← {{ posts[currentIndex + 1].data.title }}</a>
    {% endif %}
    {% if posts[currentIndex + 1] and posts[currentIndex - 1] %} | {% endif %}
    {% if posts[currentIndex - 1] %}
      <a href="{{ posts[currentIndex - 1].url }}">{{ posts[currentIndex - 1].data.title }} →</a>
    {% endif %}
  </p>
</nav>

